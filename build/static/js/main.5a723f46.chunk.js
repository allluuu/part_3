(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,n,t){e.exports=t(41)},41:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(10),u=t.n(o),l=t(11),s=t(12),c=t(14),m=t(13),i=t(15),d=function(e){var n=e.persons,t=e.deletePerson;return r.a.createElement("tr",null,r.a.createElement("td",null,n.name),r.a.createElement("td",null,n.number),r.a.createElement("td",null,r.a.createElement("button",{onClick:t},"poista")))},p=t(2),h=t.n(p),b="/api/persons",f=function(e){function n(e){var t;return Object(l.a)(this,n),(t=Object(c.a)(this,Object(m.a)(n).call(this,e))).addPerson=function(e){var n={name:t.state.newName,number:t.state.newNumber};t.state.persons.map(function(e){return e.name}).includes(n.name)||t.state.persons.map(function(e){return e.number}).includes(n.number)?alert(" ".concat(n.name," is already on list")):(t.setState({newName:"",newNumber:""}),h.a.post(b,n).then(function(e){201===e.status&&(console.log("Added ".concat(n.name," and ").concat(n.number)),t.updatePersons())}))},t.deletePerson=function(e,n){return function(){var a="/api/persons/".concat(e);window.confirm("Do you want to remove user ".concat(n.name," with id ").concat(e))?h.a.delete(a).then(function(e){200===e.status&&console.log("status 200, person ".concat(n.name," deleted")),t.updatePersons()}):console.log("canceled  ".concat(n.name," delete "))}},t.handleInputChange=function(e){t.setState({newName:e.target.value})},t.handleNumber=function(e){t.setState({newNumber:e.target.value})},t.state={persons:[{name:"",number:"",id:""}],newName:"",newNumber:""},t}return Object(i.a)(n,e),Object(s.a)(n,[{key:"updatePersons",value:function(){var e=this;h.a.get(b).then(function(n){e.setState({persons:n.data})})}},{key:"componentDidMount",value:function(){this.updatePersons()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h2",null,"Phone book"),r.a.createElement("form",{onSubmit:this.addPerson},r.a.createElement("div",null,"Name:",r.a.createElement("input",{onChange:this.handleInputChange,value:this.state.newName})),r.a.createElement("div",null,"Number:",r.a.createElement("input",{onChange:this.handleNumber,value:this.state.newNumber})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Add"))),r.a.createElement("h2",null,"Numbers"),r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("thead",null,this.state.persons.map(function(n){return r.a.createElement(d,{persons:n,key:n.id,deletePerson:e.deletePerson(n.id,n)})})))))}}]),n}(r.a.Component);u.a.render(r.a.createElement(f,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.5a723f46.chunk.js.map